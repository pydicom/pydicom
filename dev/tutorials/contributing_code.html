
<!DOCTYPE html>


<html lang="en" data-content_root="../" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Contributing a source code change &#8212; pydicom 3.1.0.dev0 documentation</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  <!--
    this give us a css class that will be invisible only if js is disabled
  -->
  <noscript>
    <style>
      .pst-js-only { display: none !important; }

    </style>
  </noscript>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../_static/styles/theme.css?digest=8878045cc6db502f8baf" rel="stylesheet" />
<link href="../_static/styles/pydata-sphinx-theme.css?digest=8878045cc6db502f8baf" rel="stylesheet" />

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=03e43079" />
    <link rel="stylesheet" type="text/css" href="../_static/css/pydicom.css?v=0f9d927c" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="../_static/css/pydicom.css?v=0f9d927c" />
    <link rel="stylesheet" type="text/css" href="../_static/sg_gallery.css?v=d2d258e8" />
    <link rel="stylesheet" type="text/css" href="../_static/sg_gallery-binder.css?v=f4aeca0c" />
    <link rel="stylesheet" type="text/css" href="../_static/sg_gallery-dataframe.css?v=2082cf3c" />
    <link rel="stylesheet" type="text/css" href="../_static/sg_gallery-rendered-html.css?v=1277b6f3" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-design.min.css?v=95c83b7e" />
  
  <!-- So that users can add custom icons -->
  <script src="../_static/scripts/fontawesome.js?digest=8878045cc6db502f8baf"></script>
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../_static/scripts/bootstrap.js?digest=8878045cc6db502f8baf" />
<link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=8878045cc6db502f8baf" />

    <script src="../_static/documentation_options.js?v=d3077db3"></script>
    <script src="../_static/doctools.js?v=9bcbadda"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="../_static/copybutton.js?v=ccdb6887"></script>
    <script src="../_static/design-tabs.js?v=f930bc37"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'tutorials/contributing_code';</script>
    <script>
        DOCUMENTATION_OPTIONS.theme_version = '0.16.1';
        DOCUMENTATION_OPTIONS.theme_switcher_json_url = '_static/switcher.json';
        DOCUMENTATION_OPTIONS.theme_switcher_version_match = 'dev';
        DOCUMENTATION_OPTIONS.show_version_warning_banner =
            true;
        </script>
    <script defer="defer" src="../_static/custom-icons.js?v=1cb01586"></script>
    <link rel="icon" href="../_static/favicon.ico"/>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Contributing a documentation change" href="contributing_docs.html" />
    <link rel="prev" title="Introduction to JSON support" href="dicom_json.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  <meta name="docsearch:version" content="3.1.0.dev0" />
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <dialog id="pst-search-dialog">
    
<form class="bd-search d-flex align-items-center"
      action="../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         placeholder="Search the docs ..."
         aria-label="Search the docs ..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form>
  </dialog>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
<div class="bd-header__inner bd-page-width">
  <button class="pst-navbar-icon sidebar-toggle primary-toggle" aria-label="Site navigation">
    <span class="fa-solid fa-bars"></span>
  </button>
  
  
  <div class="col-lg-3 navbar-header-items__start">
    
      <div class="navbar-item">

  
    
  

<a class="navbar-brand logo" href="../index.html">
  
  
  
  
  
    
    
      
    
    
    <img src="../_static/pydicom_flat_black.svg" class="logo__image only-light" alt=""/>
    <img src="../_static/logo.png" class="logo__image only-dark pst-js-only" alt=""/>
  
  
    <p class="title logo__title">pydicom</p>
  
</a></div>
    
  </div>
  
  <div class="col-lg-9 navbar-header-items">
    
    <div class="me-auto navbar-header-items__center">
      
        <div class="navbar-item">
<nav>
  <ul class="bd-navbar-elements navbar-nav">
    
<li class="nav-item ">
  <a class="nav-link nav-internal" href="../guides/user/index.html">
    User Guide
  </a>
</li>


<li class="nav-item current active">
  <a class="nav-link nav-internal" href="index.html">
    Tutorials
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../guides/index.html">
    Guides
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../auto_examples/index.html">
    Examples
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../reference/index.html">
    API
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../release_notes/index.html">
    Releases
  </a>
</li>

  </ul>
</nav></div>
      
    </div>
    
    
    <div class="navbar-header-items__end">
      
        <div class="navbar-item navbar-persistent--container">
          

<button class="btn btn-sm pst-navbar-icon search-button search-button__button pst-js-only" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
</button>
        </div>
      
      
        <div class="navbar-item">
<div class="version-switcher__container dropdown pst-js-only">
  <button id="pst-version-switcher-button-2"
    type="button"
    class="version-switcher__button btn btn-sm dropdown-toggle"
    data-bs-toggle="dropdown"
    aria-haspopup="listbox"
    aria-controls="pst-version-switcher-list-2"
    aria-label="Version switcher list"
  >
    Choose version  <!-- this text may get changed later by javascript -->
    <span class="caret"></span>
  </button>
  <div id="pst-version-switcher-list-2"
    class="version-switcher__menu dropdown-menu list-group-flush py-0"
    role="listbox" aria-labelledby="pst-version-switcher-button-2">
    <!-- dropdown will be populated by javascript on page load -->
  </div>
</div></div>
      
        <div class="navbar-item">

<button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button pst-js-only" aria-label="Color mode" data-bs-title="Color mode"  data-bs-placement="bottom" data-bs-toggle="tooltip">
  <i class="theme-switch fa-solid fa-sun                fa-lg" data-mode="light" title="Light"></i>
  <i class="theme-switch fa-solid fa-moon               fa-lg" data-mode="dark"  title="Dark"></i>
  <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"  title="System Settings"></i>
</button></div>
      
        <div class="navbar-item"><ul class="navbar-icon-links"
    aria-label="Icon Links">
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://github.com/pydicom/pydicom/" title="GitHub" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fa-brands fa-github fa-lg" aria-hidden="true"></i>
            <span class="sr-only">GitHub</span></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://pypi.org/project/pydicom/" title="PyPI" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fa-custom fa-pypi fa-lg" aria-hidden="true"></i>
            <span class="sr-only">PyPI</span></a>
        </li>
</ul></div>
      
    </div>
    
  </div>
  
  
    <div class="navbar-persistent--mobile">

<button class="btn btn-sm pst-navbar-icon search-button search-button__button pst-js-only" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
</button>
    </div>
  

  
    <button class="pst-navbar-icon sidebar-toggle secondary-toggle" aria-label="On this page">
      <span class="fa-solid fa-outdent"></span>
    </button>
  
</div>

    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <dialog id="pst-primary-sidebar-modal"></dialog>
      <div id="pst-primary-sidebar" class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
      <div class="sidebar-header-items__center">
        
          
          
            <div class="navbar-item">
<nav>
  <ul class="bd-navbar-elements navbar-nav">
    
<li class="nav-item ">
  <a class="nav-link nav-internal" href="../guides/user/index.html">
    User Guide
  </a>
</li>


<li class="nav-item current active">
  <a class="nav-link nav-internal" href="index.html">
    Tutorials
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../guides/index.html">
    Guides
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../auto_examples/index.html">
    Examples
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../reference/index.html">
    API
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../release_notes/index.html">
    Releases
  </a>
</li>

  </ul>
</nav></div>
          
        
      </div>
    
    
    
      <div class="sidebar-header-items__end">
        
          <div class="navbar-item">
<div class="version-switcher__container dropdown pst-js-only">
  <button id="pst-version-switcher-button-3"
    type="button"
    class="version-switcher__button btn btn-sm dropdown-toggle"
    data-bs-toggle="dropdown"
    aria-haspopup="listbox"
    aria-controls="pst-version-switcher-list-3"
    aria-label="Version switcher list"
  >
    Choose version  <!-- this text may get changed later by javascript -->
    <span class="caret"></span>
  </button>
  <div id="pst-version-switcher-list-3"
    class="version-switcher__menu dropdown-menu list-group-flush py-0"
    role="listbox" aria-labelledby="pst-version-switcher-button-3">
    <!-- dropdown will be populated by javascript on page load -->
  </div>
</div></div>
        
          <div class="navbar-item">

<button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button pst-js-only" aria-label="Color mode" data-bs-title="Color mode"  data-bs-placement="bottom" data-bs-toggle="tooltip">
  <i class="theme-switch fa-solid fa-sun                fa-lg" data-mode="light" title="Light"></i>
  <i class="theme-switch fa-solid fa-moon               fa-lg" data-mode="dark"  title="Dark"></i>
  <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"  title="System Settings"></i>
</button></div>
        
          <div class="navbar-item"><ul class="navbar-icon-links"
    aria-label="Icon Links">
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://github.com/pydicom/pydicom/" title="GitHub" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fa-brands fa-github fa-lg" aria-hidden="true"></i>
            <span class="sr-only">GitHub</span></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://pypi.org/project/pydicom/" title="PyPI" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fa-custom fa-pypi fa-lg" aria-hidden="true"></i>
            <span class="sr-only">PyPI</span></a>
        </li>
</ul></div>
        
      </div>
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">
<nav class="bd-docs-nav bd-links"
     aria-label="Section Navigation">
  <p class="bd-links__title" role="heading" aria-level="1">Section Navigation</p>
  <div class="bd-toc-item navbar-nav"><ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="dataset_basics.html">Dataset basics: read, access, modify, write</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="pixel_data/index.html">A beginner’s guide to <em>Pixel Data</em></a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="pixel_data/introduction.html"><em>Pixel Data</em> - Part 1: Introduction and accessing</a></li>
<li class="toctree-l2"><a class="reference internal" href="pixel_data/creation.html"><em>Pixel Data</em> - Part 2: Creation of pixel data</a></li>
<li class="toctree-l2"><a class="reference internal" href="pixel_data/compressing.html"><em>Pixel Data</em> - Part 3: Compression and decompression</a></li>
</ul>
</details></li>
<li class="toctree-l1"><a class="reference internal" href="waveforms.html">A beginner’s guide to <em>Waveform Data</em></a></li>
<li class="toctree-l1"><a class="reference internal" href="filesets.html">DICOM File-sets and DICOMDIR</a></li>
<li class="toctree-l1"><a class="reference internal" href="sr_basics.html">A (brief) introduction to Structured Reports</a></li>
<li class="toctree-l1"><a class="reference internal" href="dicom_json.html">Introduction to JSON support</a></li>
<li class="toctree-l1 current active"><a class="current reference internal" href="#">Contributing a source code change</a></li>
<li class="toctree-l1"><a class="reference internal" href="contributing_docs.html">Contributing a documentation change</a></li>
</ul>
</div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
      <div class="sidebar-primary-item">
<div id="ethical-ad-placement"
      class="flat"
      data-ea-publisher="readthedocs"
      data-ea-type="readthedocs-sidebar"
      data-ea-manual="true">
</div></div>
  </div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        
          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item">

<nav aria-label="Breadcrumb" class="d-print-none">
  <ul class="bd-breadcrumbs">
    
    <li class="breadcrumb-item breadcrumb-home">
      <a href="../index.html" class="nav-link" aria-label="Home">
        <i class="fa-solid fa-home"></i>
      </a>
    </li>
    
    <li class="breadcrumb-item"><a href="index.html" class="nav-link">Tutorials</a></li>
    
    <li class="breadcrumb-item active" aria-current="page"><span class="ellipsis">Contributing a source code change</span></li>
  </ul>
</nav>
</div>
      
    </div>
  
  
</div>
</div>
              
              
              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section id="contributing-a-source-code-change">
<h1>Contributing a source code change<a class="headerlink" href="#contributing-a-source-code-change" title="Link to this heading">#</a></h1>
<p>This tutorial will take you through the process of:</p>
<ul class="simple">
<li><p>Downloading the current source code</p></li>
<li><p>Installing required libraries (if any)</p></li>
<li><p>Running the test suite</p></li>
<li><p>Creating a new git branch</p></li>
<li><p>Making a change and documenting it</p></li>
<li><p>Previewing your changes</p></li>
<li><p>Committing the changes and making a pull request</p></li>
</ul>
<section id="download-the-current-source-code">
<h2>Download the current source code<a class="headerlink" href="#download-the-current-source-code" title="Link to this heading">#</a></h2>
<ol class="arabic">
<li><p>Sign up to <a class="reference external" href="https://github.com">GitHub</a> and
<a class="extlink-gh reference external" href="https://github.com/pydicom/pydicom/fork">fork pydicom</a></p></li>
<li><p>Install <a class="reference external" href="https://git-scm.com/downloads">Git</a>. If you’re new to Git,
the Django project has a good introduction on <a class="reference external" href="https://docs.djangoproject.com/en/3.0/internals/contributing/writing-code/working-with-git/">working with Git and GitHub</a>.
You can also take a look at the <a class="reference external" href="https://guides.github.com/introduction/flow/">GitHub branch-based workflow</a></p></li>
<li><p>Using the command line, <code class="docutils literal notranslate"><span class="pre">cd</span></code> to the directory where you want your
local copy of <em>pydicom</em> to live. The source code can then be downloaded
using:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ git clone https://github.com/YourUsername/pydicom.git
</pre></div>
</div>
</li>
<li><p>Install the cloned copy of <em>pydicom</em> (<code class="docutils literal notranslate"><span class="pre">-e</span></code> for editable mode):</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ pip install -e pydicom/
</pre></div>
</div>
</li>
</ol>
</section>
<section id="optional-install-required-libraries">
<h2>(Optional) Install required libraries<a class="headerlink" href="#optional-install-required-libraries" title="Link to this heading">#</a></h2>
<p>If you’re making changes to one of the pixel data handlers you’ll need to
install <a class="reference external" href="https://numpy.org/">NumPy</a> as well as the library the handler is
based on.</p>
<p>For example, if you’re working on the
<a class="reference internal" href="../reference/generated/pydicom.pixel_data_handlers.pillow_handler.html#module-pydicom.pixel_data_handlers.pillow_handler" title="pydicom.pixel_data_handlers.pillow_handler"><code class="xref py py-mod docutils literal notranslate"><span class="pre">pillow_handler</span></code></a>
you’ll also need to install <a class="reference external" href="https://pillow.readthedocs.io/">Pillow</a>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ pip install numpy pillow
</pre></div>
</div>
<p>See the <cite>installation page&lt;/guides/user/installation&gt;</cite> for details on installing
the optional libraries.</p>
</section>
<section id="install-pytest-and-run-the-test-suite">
<h2>Install pytest and run the test suite<a class="headerlink" href="#install-pytest-and-run-the-test-suite" title="Link to this heading">#</a></h2>
<p>When making changes to <em>pydicom</em> it’s important that your changes don’t
accidentally introduce bugs into other areas of the code. In order to
check that everything still works afterwards, you should run our test suite,
which is based on <a class="reference external" href="https://docs.pytest.org/">pytest</a>.</p>
<p>Install and run pytest:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ pip install pytest
$ cd pydicom/tests
$ pytest
</pre></div>
</div>
<p>While the tests are running you’ll see a filename followed by a stream of
characters that represent the result of each test. A dot means the test
passed, <strong>F</strong> indicates a failure, <strong>E</strong> that an error occurred during
the test, <strong>s</strong> that the test was skipped (usually due to a missing
optional library) and <strong>x</strong> that the test failed as expected.</p>
<p>Once the tests are complete you should get a short summary of the results.
At this stage the entire test suite <em>should</em> pass. If you get any failures
or errors you should check the <a class="extlink-gh reference external" href="https://github.com/pydicom/pydicom/issues">issue tracker</a> for any
relevant issues or create a new one if there are none.</p>
</section>
<section id="create-a-new-branch">
<h2>Create a new branch<a class="headerlink" href="#create-a-new-branch" title="Link to this heading">#</a></h2>
<p>Create a new branch <code class="docutils literal notranslate"><span class="pre">new-uid</span></code> for your changes (you can choose any name
that you want instead). Any changes made in this branch will be specific to
it and won’t affect the main copy (the <code class="docutils literal notranslate"><span class="pre">main</span></code> branch) of the code:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ git checkout -b new-uid
</pre></div>
</div>
</section>
<section id="write-tests-for-your-changes">
<h2>Write tests for your changes<a class="headerlink" href="#write-tests-for-your-changes" title="Link to this heading">#</a></h2>
<p>If a change is to be accepted into <em>pydicom</em> it usually has to include tests.
For bug fixes you should write a regression test that reproduces the bug.
For new features you’ll need to include tests that ensure the features
work as intended.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If you’ve never had to write tests before they can seem pretty daunting,
especially if you’re also learning how to use pytest from scratch. You may
find the following resources useful:</p>
<ul class="simple">
<li><p>Take a look at the
<a class="extlink-gh reference external" href="https://github.com/pydicom/pydicom/tree/main/tests">existing pydicom test suite</a>
and see how the tests are written. There are examples for writing
<a class="extlink-gh reference external" href="https://github.com/pydicom/pydicom/blob/73cffe3151915b53a18b521656680d819e7e1a18/pydicom/tests/test_rle_pixel_data.py#L137">a single test</a>,
<a class="extlink-gh reference external" href="https://github.com/pydicom/pydicom/blob/73cffe3151915b53a18b521656680d819e7e1a18/pydicom/tests/test_dataelem.py#L27">a group of related tests</a>,
<a class="extlink-gh reference external" href="https://github.com/pydicom/pydicom/blob/73cffe3151915b53a18b521656680d819e7e1a18/pydicom/tests/test_handler_util.py#L834">testing for exceptions</a>,
<a class="extlink-gh reference external" href="https://github.com/pydicom/pydicom/blob/73cffe3151915b53a18b521656680d819e7e1a18/pydicom/tests/test_config.py#L28">capturing log output</a>,
<a class="extlink-gh reference external" href="https://github.com/pydicom/pydicom/blob/73cffe3151915b53a18b521656680d819e7e1a18/pydicom/tests/test_pillow_pixel_data.py#L452">testing for warnings</a>,
and running
<a class="extlink-gh reference external" href="https://github.com/pydicom/pydicom/blob/73cffe3151915b53a18b521656680d819e7e1a18/pydicom/tests/test_rle_pixel_data.py#L215">parametrized tests</a>.</p></li>
<li><p>Dive Into Python has a very nice <a class="reference external" href="https://diveinto.org/python3/unit-testing.html">section on unit testing</a> (however it uses
<code class="docutils literal notranslate"><span class="pre">unittest</span></code> instead of pytest).</p></li>
<li><p>The <a class="reference external" href="https://docs.pytest.org/en/latest/example/index.html">pytest documentation</a>
may also be helpful</p></li>
</ul>
<p>If you’re still having trouble writing a test for something, once
you’ve created a pull request (to be discussed a bit later) add a comment
asking for help.</p>
</div>
<p>Let’s say we wanted to add a new <a class="reference external" href="https://pydicom.github.io/pydicom/dev/reference/uid.html#predefined-uids">pre-defined UID</a>
to <em>pydicom</em> with a value of <code class="docutils literal notranslate"><span class="pre">1.2.3.4.500</span></code>. We’d first add a new test at the
bottom of <a class="extlink-gh reference external" href="https://github.com/pydicom/pydicom/blob/main/tests/test_uid.py">test_uid.py</a>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">test_new_uid</span><span class="p">():</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Test uid.NewDefinedUID.&quot;&quot;&quot;</span>
    <span class="kn">from</span><span class="w"> </span><span class="nn">pydicom.uid</span><span class="w"> </span><span class="kn">import</span> <span class="n">NewDefinedUID</span>
    <span class="k">assert</span> <span class="s1">&#39;1.2.3.4.500&#39;</span> <span class="o">==</span> <span class="n">NewDefinedUID</span>
</pre></div>
</div>
<p>Since we haven’t made any modification to the actual source code, when we
run the tests we should get a failure:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ pytest test_uid.py
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>    <span class="k">def</span><span class="w"> </span><span class="nf">test_new_uid</span><span class="p">():</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Test uid.NewDefinedUID.&quot;&quot;&quot;</span>
<span class="o">&gt;</span>       <span class="kn">from</span><span class="w"> </span><span class="nn">pydicom.uid</span><span class="w"> </span><span class="kn">import</span> <span class="n">NewDefinedUID</span>
<span class="n">E</span>       <span class="ne">ImportError</span><span class="p">:</span> <span class="n">cannot</span> <span class="kn">import</span><span class="w"> </span><span class="nn">name</span> <span class="s1">&#39;NewDefinedUID&#39;</span>

<span class="n">test_uid</span><span class="o">.</span><span class="n">py</span><span class="p">:</span><span class="mi">380</span><span class="p">:</span> <span class="ne">ImportError</span>
</pre></div>
</div>
<p>If all the tests passed then make sure you’ve added the test to the correct
file and that the test itself is written correctly.</p>
</section>
<section id="make-a-code-change-and-document-it">
<h2>Make a code change and document it<a class="headerlink" href="#make-a-code-change-and-document-it" title="Link to this heading">#</a></h2>
<p>Next we’ll make changes to the actual source code. Open
<a class="extlink-gh reference external" href="https://github.com/pydicom/pydicom/blob/main/src/pydicom/uid.py">uid.py</a> in a text editor and around
<a class="extlink-gh reference external" href="https://github.com/pydicom/pydicom/blob/73cffe3151915b53a18b521656680d819e7e1a18/pydicom/uid.py#L236">line 236</a>
make the following changes:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">RLELossless</span> <span class="o">=</span> <span class="n">UID</span><span class="p">(</span><span class="s1">&#39;1.2.840.10008.1.2.5&#39;</span><span class="p">)</span>
<span class="sd">&quot;&quot;&quot;1.2.840.10008.1.2.5&quot;&quot;&quot;</span>
<span class="c1"># **Add this**</span>
<span class="n">NewDefinedUID</span> <span class="o">=</span> <span class="n">UID</span><span class="p">(</span><span class="s1">&#39;1.2.3.4.500&#39;</span><span class="p">)</span>
<span class="sd">&quot;&quot;&quot;1.2.3.4.500&quot;&quot;&quot;</span>
</pre></div>
</div>
<p>The line <code class="docutils literal notranslate"><span class="pre">&quot;&quot;&quot;1.2.3.4.500&quot;&quot;&quot;</span></code> is the <a class="reference external" href="https://www.python.org/dev/peps/pep-0257/">docstring</a> for our new UID. In order for
it to be included in the API reference documentation we’ll also need to update
<a class="extlink-gh reference external" href="https://github.com/pydicom/pydicom/blob/main/doc/reference/uid.rst">uid.rst</a>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">JPEG2000MultiComponentLossless</span>
<span class="n">JPEG2000MultiComponent</span>
<span class="n">RLELossless</span>
<span class="n">NewDefinedUID</span>
</pre></div>
</div>
<p>When making changes, and especially when adding new features, it’s important
that they’re documented. It’s very difficult for users to find and
understand how to use code that hasn’t been documented, or whose documentation
contains errors.</p>
<p>Now we run the tests again so we can see whether or not the code we added is
working:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ pytest test_uid.py
</pre></div>
</div>
<p>Everything should pass. If it doesn’t, make sure you’ve correctly added the
new UID. Once you’re happy that the tests in <code class="docutils literal notranslate"><span class="pre">test_uid.py</span></code> are working you
should make sure the entire test suite passes:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ pytest
</pre></div>
</div>
</section>
<section id="preview-your-changes">
<h2>Preview your changes<a class="headerlink" href="#preview-your-changes" title="Link to this heading">#</a></h2>
<p>It’s a good idea to go through all the changes you’ve made by first staging
and then displaying the difference between the current copy and the initial
version we first checked out with:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ git add --all
$ git diff --cached
</pre></div>
</div>
<p>You can scroll through the output using the up and down keys and quit with
<strong>q</strong>. Lines with a <strong>-</strong> in front will be removed and lines with a <strong>+</strong>
added. If everything looks good then it’s time to commit the changes.</p>
</section>
<section id="commit-your-changes-and-make-a-pull-request">
<h2>Commit your changes and make a pull request<a class="headerlink" href="#commit-your-changes-and-make-a-pull-request" title="Link to this heading">#</a></h2>
<p>To commit the changes:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ git commit
</pre></div>
</div>
<p>This will open a text editor so you can add the commit message. Alternatively,
if you only want a short commit message you can do:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ git commit -m &quot;Add NewDefinedUID&quot;
</pre></div>
</div>
<p>Which will commit with the message <em>“Add NewDefinedUID”</em>. After committing the
patch, send it to your fork:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ git push origin new-uid
</pre></div>
</div>
<p>You can create a pull request by visiting the <a class="extlink-gh reference external" href="https://github.com/pydicom/pydicom">pydicom GitHub page</a> where you should see your branch under <em>“Your recently push
branches”</em>. Click <em>“Compare &amp; pull request”</em>, fill out the title and follow the
instructions in the main entry window.</p>
<p>To submit the pull request (PR) for real - <strong>please don’t do this for
this example!</strong> - then on the next page you would click
<em>“Create draft pull request”</em>.
Creating the PR would automatically start our checks; that the tests pass and
the test coverage is good, that the documentation builds OK, etc.</p>
<p>If all the checks passed and you were happy with your changes, you can click on
<em>Ready for Review</em> to convert the draft PR into a regular PR. This would indicate
that you considered the PR ready to be reviewed and merged into the main branch.
You could also ask for a review or help at any point after creating the PR.</p>
</section>
<section id="what-happens-next">
<h2>What happens next?<a class="headerlink" href="#what-happens-next" title="Link to this heading">#</a></h2>
<p>One or more reviewers would look at your pull request and may make suggestions,
ask for clarification or request changes. Once the reviewers were happy,
the pull request would be approved and your changes merged into the
<code class="docutils literal notranslate"><span class="pre">main</span></code> branch where they would become part of <em>pydicom</em>.</p>
<p>However, because this is just an example, all we’re going to do is clean up the
changes we’ve made. First we switch back to the <code class="docutils literal notranslate"><span class="pre">main</span></code> branch:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ git checkout main
</pre></div>
</div>
<p>We delete the local copy of the branch we created:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ git branch -d new-uid
</pre></div>
</div>
<p>And lastly we delete the remote copy on GitHub. Go to
<code class="docutils literal notranslate"><span class="pre">https://github.com/YourUsername/pydicom/branches</span></code>, find the <code class="docutils literal notranslate"><span class="pre">new-uid</span></code>
branch and click the corresponding red bin icon. All done!</p>
</section>
</section>


                </article>
              
              
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="dicom_json.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">Introduction to JSON support</p>
      </div>
    </a>
    <a class="right-next"
       href="contributing_docs.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Contributing a documentation change</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <dialog id="pst-secondary-sidebar-modal"></dialog>
                <div id="pst-secondary-sidebar" class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
<div
    id="pst-page-navigation-heading-2"
    class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> On this page
  </div>
  <nav class="bd-toc-nav page-toc" aria-labelledby="pst-page-navigation-heading-2">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#download-the-current-source-code">Download the current source code</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#optional-install-required-libraries">(Optional) Install required libraries</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#install-pytest-and-run-the-test-suite">Install pytest and run the test suite</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#create-a-new-branch">Create a new branch</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#write-tests-for-your-changes">Write tests for your changes</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#make-a-code-change-and-document-it">Make a code change and document it</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#preview-your-changes">Preview your changes</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#commit-your-changes-and-make-a-pull-request">Commit your changes and make a pull request</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#what-happens-next">What happens next?</a></li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
          </footer>
        
      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script defer src="../_static/scripts/bootstrap.js?digest=8878045cc6db502f8baf"></script>
<script defer src="../_static/scripts/pydata-sphinx-theme.js?digest=8878045cc6db502f8baf"></script>

  <footer class="bd-footer">
<div class="bd-footer__inner bd-page-width">
  
    <div class="footer-items__start">
      
        <div class="footer-item">

  <p class="copyright">
    
      © Copyright 2008-2026, Darcy Mason and pydicom contributors.
      <br/>
    
  </p>
</div>
      
        <div class="footer-item">

  <p class="sphinx-version">
    Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 8.2.3.
    <br/>
  </p>
</div>
      
    </div>
  
  
  
    <div class="footer-items__end">
      
        <div class="footer-item">
<p class="theme-version">
  <!-- # L10n: Setting the PST URL as an argument as this does not need to be localized -->
  Built with the <a href="https://pydata-sphinx-theme.readthedocs.io/en/stable/index.html">PyData Sphinx Theme</a> 0.16.1.
</p></div>
      
    </div>
  
</div>

  </footer>
  </body>
</html>