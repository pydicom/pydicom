
<!DOCTYPE html>


<html lang="en" data-content_root="../../" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Command-line Interface guide &#8212; pydicom 3.1.0.dev0 documentation</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  <!--
    this give us a css class that will be invisible only if js is disabled
  -->
  <noscript>
    <style>
      .pst-js-only { display: none !important; }

    </style>
  </noscript>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../../_static/styles/theme.css?digest=8878045cc6db502f8baf" rel="stylesheet" />
<link href="../../_static/styles/pydata-sphinx-theme.css?digest=8878045cc6db502f8baf" rel="stylesheet" />

    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=03e43079" />
    <link rel="stylesheet" type="text/css" href="../../_static/css/pydicom.css?v=0f9d927c" />
    <link rel="stylesheet" type="text/css" href="../../_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="../../_static/css/pydicom.css?v=0f9d927c" />
    <link rel="stylesheet" type="text/css" href="../../_static/sg_gallery.css?v=d2d258e8" />
    <link rel="stylesheet" type="text/css" href="../../_static/sg_gallery-binder.css?v=f4aeca0c" />
    <link rel="stylesheet" type="text/css" href="../../_static/sg_gallery-dataframe.css?v=2082cf3c" />
    <link rel="stylesheet" type="text/css" href="../../_static/sg_gallery-rendered-html.css?v=1277b6f3" />
    <link rel="stylesheet" type="text/css" href="../../_static/sphinx-design.min.css?v=95c83b7e" />
  
  <!-- So that users can add custom icons -->
  <script src="../../_static/scripts/fontawesome.js?digest=8878045cc6db502f8baf"></script>
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../../_static/scripts/bootstrap.js?digest=8878045cc6db502f8baf" />
<link rel="preload" as="script" href="../../_static/scripts/pydata-sphinx-theme.js?digest=8878045cc6db502f8baf" />

    <script src="../../_static/documentation_options.js?v=d3077db3"></script>
    <script src="../../_static/doctools.js?v=fd6eb6e6"></script>
    <script src="../../_static/sphinx_highlight.js?v=6ffebe34"></script>
    <script src="../../_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="../../_static/copybutton.js?v=ccdb6887"></script>
    <script src="../../_static/design-tabs.js?v=f930bc37"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'guides/cli/cli_guide';</script>
    <script>
        DOCUMENTATION_OPTIONS.theme_version = '0.16.1';
        DOCUMENTATION_OPTIONS.theme_switcher_json_url = '_static/switcher.json';
        DOCUMENTATION_OPTIONS.theme_switcher_version_match = 'dev';
        DOCUMENTATION_OPTIONS.show_version_warning_banner =
            true;
        </script>
    <script defer="defer" src="../../_static/custom-icons.js?v=1cb01586"></script>
    <link rel="icon" href="../../_static/favicon.ico"/>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Examples" href="../../auto_examples/index.html" />
    <link rel="prev" title="Pixel Data Encoder Plugins" href="../encoding/encoder_plugins.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  <meta name="docsearch:version" content="3.1.0.dev0" />
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <dialog id="pst-search-dialog">
    
<form class="bd-search d-flex align-items-center"
      action="../../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         placeholder="Search the docs ..."
         aria-label="Search the docs ..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form>
  </dialog>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
<div class="bd-header__inner bd-page-width">
  <button class="pst-navbar-icon sidebar-toggle primary-toggle" aria-label="Site navigation">
    <span class="fa-solid fa-bars"></span>
  </button>
  
  
  <div class="col-lg-3 navbar-header-items__start">
    
      <div class="navbar-item">

  
    
  

<a class="navbar-brand logo" href="../../index.html">
  
  
  
  
  
    
    
      
    
    
    <img src="../../_static/pydicom_flat_black.svg" class="logo__image only-light" alt=""/>
    <img src="../../_static/logo.png" class="logo__image only-dark pst-js-only" alt=""/>
  
  
    <p class="title logo__title">pydicom</p>
  
</a></div>
    
  </div>
  
  <div class="col-lg-9 navbar-header-items">
    
    <div class="me-auto navbar-header-items__center">
      
        <div class="navbar-item">
<nav>
  <ul class="bd-navbar-elements navbar-nav">
    
<li class="nav-item ">
  <a class="nav-link nav-internal" href="../user/index.html">
    User Guide
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../tutorials/index.html">
    Tutorials
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../index.html">
    Guides
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../auto_examples/index.html">
    Examples
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../reference/index.html">
    API
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../release_notes/index.html">
    Releases
  </a>
</li>

  </ul>
</nav></div>
      
    </div>
    
    
    <div class="navbar-header-items__end">
      
        <div class="navbar-item navbar-persistent--container">
          

<button class="btn btn-sm pst-navbar-icon search-button search-button__button pst-js-only" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
</button>
        </div>
      
      
        <div class="navbar-item">
<div class="version-switcher__container dropdown pst-js-only">
  <button id="pst-version-switcher-button-2"
    type="button"
    class="version-switcher__button btn btn-sm dropdown-toggle"
    data-bs-toggle="dropdown"
    aria-haspopup="listbox"
    aria-controls="pst-version-switcher-list-2"
    aria-label="Version switcher list"
  >
    Choose version  <!-- this text may get changed later by javascript -->
    <span class="caret"></span>
  </button>
  <div id="pst-version-switcher-list-2"
    class="version-switcher__menu dropdown-menu list-group-flush py-0"
    role="listbox" aria-labelledby="pst-version-switcher-button-2">
    <!-- dropdown will be populated by javascript on page load -->
  </div>
</div></div>
      
        <div class="navbar-item">

<button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button pst-js-only" aria-label="Color mode" data-bs-title="Color mode"  data-bs-placement="bottom" data-bs-toggle="tooltip">
  <i class="theme-switch fa-solid fa-sun                fa-lg" data-mode="light" title="Light"></i>
  <i class="theme-switch fa-solid fa-moon               fa-lg" data-mode="dark"  title="Dark"></i>
  <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"  title="System Settings"></i>
</button></div>
      
        <div class="navbar-item"><ul class="navbar-icon-links"
    aria-label="Icon Links">
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://github.com/pydicom/pydicom/" title="GitHub" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fa-brands fa-github fa-lg" aria-hidden="true"></i>
            <span class="sr-only">GitHub</span></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://pypi.org/project/pydicom/" title="PyPI" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fa-custom fa-pypi fa-lg" aria-hidden="true"></i>
            <span class="sr-only">PyPI</span></a>
        </li>
</ul></div>
      
    </div>
    
  </div>
  
  
    <div class="navbar-persistent--mobile">

<button class="btn btn-sm pst-navbar-icon search-button search-button__button pst-js-only" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
</button>
    </div>
  

  
    <button class="pst-navbar-icon sidebar-toggle secondary-toggle" aria-label="On this page">
      <span class="fa-solid fa-outdent"></span>
    </button>
  
</div>

    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <dialog id="pst-primary-sidebar-modal"></dialog>
      <div id="pst-primary-sidebar" class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
      <div class="sidebar-header-items__center">
        
          
          
            <div class="navbar-item">
<nav>
  <ul class="bd-navbar-elements navbar-nav">
    
<li class="nav-item ">
  <a class="nav-link nav-internal" href="../user/index.html">
    User Guide
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../tutorials/index.html">
    Tutorials
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../index.html">
    Guides
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../auto_examples/index.html">
    Examples
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../reference/index.html">
    API
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../release_notes/index.html">
    Releases
  </a>
</li>

  </ul>
</nav></div>
          
        
      </div>
    
    
    
      <div class="sidebar-header-items__end">
        
          <div class="navbar-item">
<div class="version-switcher__container dropdown pst-js-only">
  <button id="pst-version-switcher-button-3"
    type="button"
    class="version-switcher__button btn btn-sm dropdown-toggle"
    data-bs-toggle="dropdown"
    aria-haspopup="listbox"
    aria-controls="pst-version-switcher-list-3"
    aria-label="Version switcher list"
  >
    Choose version  <!-- this text may get changed later by javascript -->
    <span class="caret"></span>
  </button>
  <div id="pst-version-switcher-list-3"
    class="version-switcher__menu dropdown-menu list-group-flush py-0"
    role="listbox" aria-labelledby="pst-version-switcher-button-3">
    <!-- dropdown will be populated by javascript on page load -->
  </div>
</div></div>
        
          <div class="navbar-item">

<button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button pst-js-only" aria-label="Color mode" data-bs-title="Color mode"  data-bs-placement="bottom" data-bs-toggle="tooltip">
  <i class="theme-switch fa-solid fa-sun                fa-lg" data-mode="light" title="Light"></i>
  <i class="theme-switch fa-solid fa-moon               fa-lg" data-mode="dark"  title="Dark"></i>
  <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"  title="System Settings"></i>
</button></div>
        
          <div class="navbar-item"><ul class="navbar-icon-links"
    aria-label="Icon Links">
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://github.com/pydicom/pydicom/" title="GitHub" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fa-brands fa-github fa-lg" aria-hidden="true"></i>
            <span class="sr-only">GitHub</span></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://pypi.org/project/pydicom/" title="PyPI" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fa-custom fa-pypi fa-lg" aria-hidden="true"></i>
            <span class="sr-only">PyPI</span></a>
        </li>
</ul></div>
        
      </div>
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">
<nav class="bd-docs-nav bd-links"
     aria-label="Section Navigation">
  <p class="bd-links__title" role="heading" aria-level="1">Section Navigation</p>
  <div class="bd-toc-item navbar-nav"></div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
      <div class="sidebar-primary-item">
<div id="ethical-ad-placement"
      class="flat"
      data-ea-publisher="readthedocs"
      data-ea-type="readthedocs-sidebar"
      data-ea-manual="true">
</div></div>
  </div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        
          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item">

<nav aria-label="Breadcrumb" class="d-print-none">
  <ul class="bd-breadcrumbs">
    
    <li class="breadcrumb-item breadcrumb-home">
      <a href="../../index.html" class="nav-link" aria-label="Home">
        <i class="fa-solid fa-home"></i>
      </a>
    </li>
    
    <li class="breadcrumb-item"><a href="../index.html" class="nav-link">Guides</a></li>
    
    <li class="breadcrumb-item active" aria-current="page"><span class="ellipsis">Command-line Interface guide</span></li>
  </ul>
</nav>
</div>
      
    </div>
  
  
</div>
</div>
              
              
              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <p class="rubric">pydicom command-line interface</p>
<section id="command-line-interface-guide">
<span id="cli-guide"></span><h1>Command-line Interface guide<a class="headerlink" href="#command-line-interface-guide" title="Link to this heading">#</a></h1>
<div class="versionadded">
<p><span class="versionmodified added">Added in version 2.2.</span></p>
</div>
<nav class="contents local" id="contents">
<ul class="simple">
<li><p><a class="reference internal" href="#introduction" id="id1">Introduction</a></p></li>
<li><p><a class="reference internal" href="#pydicom-show-command" id="id2"><code class="docutils literal notranslate"><span class="pre">pydicom</span> <span class="pre">show</span></code> command</a></p></li>
<li><p><a class="reference internal" href="#pydicom-codify-command" id="id3"><code class="docutils literal notranslate"><span class="pre">pydicom</span> <span class="pre">codify</span></code> command</a></p></li>
<li><p><a class="reference internal" href="#extending-the-cli" id="id4">Extending the CLI</a></p></li>
</ul>
</nav>
<section id="introduction">
<span id="cli-intro"></span><h2><a class="toc-backref" href="#contents" role="doc-backlink">Introduction</a><a class="headerlink" href="#introduction" title="Link to this heading">#</a></h2>
<p>Starting in v2.2, <em>pydicom</em> offers a useful command-line interface (CLI) for
exploring DICOM files, and access to the <cite>codify</cite> option for creating pydicom
Python code. Additional subcommands may be added over time.</p>
<p>Example at the command line in a terminal window:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>pydicom<span class="w"> </span>show<span class="w"> </span>pydicom::rtplan.dcm
<span class="go">Dataset.file_meta -------------------------------</span>
<span class="gp gp-VirtualEnv">(0002, 0000)</span> <span class="go">File Meta Information Group Length  UL: 156</span>
<span class="gp gp-VirtualEnv">(0002, 0001)</span> <span class="go">File Meta Information Version       OB: b&#39;\x00\x01&#39;</span>
<span class="gp gp-VirtualEnv">(0002, 0002)</span> <span class="go">Media Storage SOP Class UID         UI: RT Plan Storage</span>
<span class="gp gp-VirtualEnv">(0002, 0003)</span> <span class="go">Media Storage SOP Instance UID      UI: 1.2.999.999.99.9.9999.9999.20030903150023</span>
<span class="gp gp-VirtualEnv">(0002, 0010)</span> <span class="go">Transfer Syntax UID                 UI: Implicit VR Little Endian</span>
<span class="gp gp-VirtualEnv">(0002, 0012)</span> <span class="go">Implementation Class UID            UI: 1.2.888.888.88.8.8.8</span>
<span class="go">-------------------------------------------------</span>
<span class="gp gp-VirtualEnv">(0008, 0012)</span> <span class="go">Instance Creation Date              DA: &#39;20030903&#39;</span>
<span class="gp gp-VirtualEnv">(0008, 0013)</span> <span class="go">Instance Creation Time              TM: &#39;150031&#39;</span>
<span class="gp gp-VirtualEnv">(0008, 0016)</span> <span class="go">SOP Class UID                       UI: RT Plan Storage</span>
<span class="gp gp-VirtualEnv">(0008, 0018)</span> <span class="go">SOP Instance UID                    UI: 1.2.777.777.77.7.7777.7777.20030903150023</span>
<span class="gp gp-VirtualEnv">(0008, 0020)</span> <span class="go">Study Date                          DA: &#39;20030716&#39;</span>
<span class="go">...</span>
</pre></div>
</div>
<p>Note that prefixing the file specification with <code class="docutils literal notranslate"><span class="pre">pydicom::</span></code> will read the file
from the <em>pydicom</em> test data files rather than from the normal file system.
The following examples will use that so that you can replicate these
examples exactly.  In normal use, you would leave the <code class="docutils literal notranslate"><span class="pre">pydicom::</span></code> prefix
off when working with your files.</p>
<p>You can also show just parts of the DICOM file by specifying a data element
using the usual <em>pydicom</em> keyword notation:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>pydicom<span class="w"> </span>show<span class="w"> </span>pydicom::rtplan.dcm::FractionGroupSequence<span class="o">[</span><span class="m">0</span><span class="o">]</span>
<span class="gp gp-VirtualEnv">(300a, 0071)</span> <span class="go">Fraction Group Number               IS: &quot;1&quot;</span>
<span class="gp gp-VirtualEnv">(300a, 0078)</span> <span class="go">Number of Fractions Planned         IS: &quot;30&quot;</span>
<span class="gp gp-VirtualEnv">(300a, 0080)</span> <span class="go">Number of Beams                     IS: &quot;1&quot;</span>
<span class="gp gp-VirtualEnv">(300a, 00a0)</span> <span class="go">Number of Brachy Application Setups IS: &quot;0&quot;</span>
<span class="gp gp-VirtualEnv">(300c, 0004)</span>  <span class="go">Referenced Beam Sequence  1 item(s) ----</span>
<span class="gp gp-VirtualEnv">(300a, 0082)</span> <span class="go">Beam Dose Specification Point       DS: [239.531250000000, 239.531250000000, -751.87000000000]</span>
<span class="gp gp-VirtualEnv">(300a, 0084)</span> <span class="go">Beam Dose                           DS: &quot;1.0275401&quot;</span>
<span class="gp gp-VirtualEnv">(300a, 0086)</span> <span class="go">Beam Meterset                       DS: &quot;116.0036697&quot;</span>
<span class="gp gp-VirtualEnv">(300c, 0006)</span> <span class="go">Referenced Beam Number              IS: &quot;1&quot;</span>
<span class="go">---------</span>
</pre></div>
</div>
<p>You can see the available subcommands by simply typing <code class="docutils literal notranslate"><span class="pre">pydicom</span></code> with no
arguments, or with <code class="docutils literal notranslate"><span class="pre">pydicom</span> <span class="pre">help</span></code>:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>pydicom<span class="w"> </span><span class="nb">help</span>
<span class="go">Use pydicom help [subcommand] to show help for a subcommand</span>
<span class="go">Available subcommands: codify, show</span>
</pre></div>
</div>
<p>And, as noted in the block above, you get help for a particular subcommand
by typing <code class="docutils literal notranslate"><span class="pre">pydicom</span> <span class="pre">help</span> <span class="pre">[subcommand]</span></code>.  For example:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>pydicom<span class="w"> </span><span class="nb">help</span><span class="w"> </span>show
<span class="go">usage: pydicom show [-h] [-x] [-t] [-q] filespec</span>

<span class="go">Display all or part of a DICOM file</span>

<span class="go">positional arguments:</span>
<span class="go">filespec           File specification, in format [pydicom::]filename[::element]. If `pydicom::` prefix is present,</span>
<span class="go">                    then use the pydicom test file with that name. If `element` is given, use only that data element</span>
<span class="go">                    within the file. Examples: path/to/your_file.dcm, your_file.dcm::StudyDate,</span>
<span class="go">                    your_file.dcm::(0001,0001), pydicom::rtplan.dcm::BeamSequence[0],</span>
<span class="go">                    yourplan.dcm::BeamSequence[0].BeamNumber, pydicom::rtplan.dcm::(300A,00B0)[0].(300A,00B6)</span>


<span class="go">optional arguments:</span>
<span class="go">-h, --help            show this help message and exit</span>
<span class="go">-x, --exclude-private</span>
<span class="go">                        Don&#39;t show private data elements</span>
<span class="go">-t, --top             Only show top level</span>
<span class="go">-q, --quiet           Only show basic information</span>
</pre></div>
</div>
<section id="installing-the-pydicom-cli">
<h3>Installing the pydicom CLI<a class="headerlink" href="#installing-the-pydicom-cli" title="Link to this heading">#</a></h3>
<p>The <code class="docutils literal notranslate"><span class="pre">pydicom</span></code> command should automatically be available after you
<cite>pip install pydicom</cite>.  It should not require any updates to the system
path or environment variables.</p>
<p>If you are helping develop <em>pydicom</em> code, and are using git clones,
you will have to <code class="docutils literal notranslate"><span class="pre">pip</span> <span class="pre">install</span> <span class="pre">-e</span> <span class="pre">.</span></code> from
the <cite>pydicom</cite> repository root. This has to be repeated for any changes to
<cite>pyproject.toml</cite> (e.g. to add a new subcommand).</p>
<p>If you are developing subcommands within your own package, you will need to
reinstall your package similar to the above as you add entry points.</p>
</section>
<section id="combining-with-other-clis">
<h3>Combining with other CLIs<a class="headerlink" href="#combining-with-other-clis" title="Link to this heading">#</a></h3>
<p>CLIs are useful for general exploration while programming, but also can be
combined with other command-line filters for additional functionality. The
following is an example of piping the output of the pydicom
‘show’ subcommand into ‘grep’, filtering for lines with
either “Dose” or “Sequence” in them:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>pydicom<span class="w"> </span>show<span class="w"> </span>pydicom::rtplan.dcm<span class="w"> </span><span class="p">|</span><span class="w"> </span>grep<span class="w"> </span><span class="s2">&quot;Dose\|Sequence&quot;</span>
<span class="gp gp-VirtualEnv">(300a, 0010)</span>  <span class="go">Dose Reference Sequence  2 item(s) ----</span>
<span class="gp gp-VirtualEnv">(300a, 0012)</span> <span class="go">Dose Reference Number               IS: &quot;1&quot;</span>
<span class="gp gp-VirtualEnv">(300a, 0014)</span> <span class="go">Dose Reference Structure Type       CS: &#39;COORDINATES&#39;</span>
<span class="gp gp-VirtualEnv">(300a, 0016)</span> <span class="go">Dose Reference Description          LO: &#39;iso&#39;</span>
<span class="gp gp-VirtualEnv">(300a, 0018)</span> <span class="go">Dose Reference Point Coordinates    DS: [239.531250000000, 239.531250000000, -741.87000000000]</span>
<span class="gp gp-VirtualEnv">(300a, 0020)</span> <span class="go">Dose Reference Type                 CS: &#39;ORGAN_AT_RISK&#39;</span>
<span class="gp gp-VirtualEnv">(300a, 0023)</span> <span class="go">Delivery Maximum Dose               DS: &quot;75.0&quot;</span>
<span class="gp gp-VirtualEnv">(300a, 002c)</span> <span class="go">Organ at Risk Maximum Dose          DS: &quot;75.0&quot;</span>
<span class="gp gp-VirtualEnv">(300a, 0012)</span> <span class="go">Dose Reference Number               IS: &quot;2&quot;</span>
<span class="gp gp-VirtualEnv">(300a, 0014)</span> <span class="go">Dose Reference Structure Type       CS: &#39;COORDINATES&#39;</span>
<span class="gp gp-VirtualEnv">(300a, 0016)</span> <span class="go">Dose Reference Description          LO: &#39;PTV&#39;</span>
<span class="gp gp-VirtualEnv">(300a, 0018)</span> <span class="go">Dose Reference Point Coordinates    DS: [239.531250000000, 239.531250000000, -751.87000000000]</span>
<span class="gp gp-VirtualEnv">(300a, 0020)</span> <span class="go">Dose Reference Type                 CS: &#39;TARGET&#39;</span>
<span class="gp gp-VirtualEnv">(300a, 0026)</span> <span class="go">Target Prescription Dose            DS: &quot;30.826203&quot;</span>
<span class="gp gp-VirtualEnv">(300a, 0070)</span>  <span class="go">Fraction Group Sequence  1 item(s) ----</span>
<span class="gp gp-VirtualEnv">(300c, 0004)</span>  <span class="go">Referenced Beam Sequence  1 item(s) ----</span>
<span class="go">    (300a, 0082) Beam Dose Specification Point       DS: [239.531250000000, 239.531250000000, -751.87000000000]</span>
<span class="go">    (300a, 0084) Beam Dose                           DS: &quot;1.0275401&quot;</span>
<span class="gp gp-VirtualEnv">(300a, 00b0)</span>  <span class="go">Beam Sequence  1 item(s) ----</span>
<span class="gp gp-VirtualEnv">(300a, 00b6)</span>  <span class="go">Beam Limiting Device Sequence  2 item(s) ----</span>
<span class="gp gp-VirtualEnv">(300a, 0111)</span>  <span class="go">Control Point Sequence  2 item(s) ----</span>
<span class="go">    (300a, 0115) Dose Rate Set                       DS: &quot;650.0&quot;</span>
<span class="go">    (300a, 011a)  Beam Limiting Device Position Sequence  2 item(s) ----</span>
<span class="go">    (300c, 0050)  Referenced Dose Reference Sequence  2 item(s) ----</span>
<span class="go">        (300a, 010c) Cumulative Dose Reference Coefficie DS: &quot;0.0&quot;</span>
<span class="go">        (300c, 0051) Referenced Dose Reference Number    IS: &quot;1&quot;</span>
<span class="go">        (300a, 010c) Cumulative Dose Reference Coefficie DS: &quot;0.0&quot;</span>
<span class="go">        (300c, 0051) Referenced Dose Reference Number    IS: &quot;2&quot;</span>
<span class="go">    (300c, 0050)  Referenced Dose Reference Sequence  2 item(s) ----</span>
<span class="go">        (300a, 010c) Cumulative Dose Reference Coefficie DS: &quot;0.9990268&quot;</span>
<span class="go">        (300c, 0051) Referenced Dose Reference Number    IS: &quot;1&quot;</span>
<span class="go">        (300a, 010c) Cumulative Dose Reference Coefficie DS: &quot;1.0&quot;</span>
<span class="go">        (300c, 0051) Referenced Dose Reference Number    IS: &quot;2&quot;</span>
<span class="gp gp-VirtualEnv">(300a, 0180)</span>  <span class="go">Patient Setup Sequence  1 item(s) ----</span>
<span class="gp gp-VirtualEnv">(300c, 0002)</span>  <span class="go">Referenced RT Plan Sequence  1 item(s) ----</span>
<span class="gp gp-VirtualEnv">(300c, 0060)</span>  <span class="go">Referenced Structure Set Sequence  1 item(s) ----</span>
</pre></div>
</div>
<p>Using the “or Sequence” (<code class="docutils literal notranslate"><span class="pre">`\|Sequence`</span></code>) regular expression as above allows you
to see any filtered results in relation to their parent Sequences.</p>
<p>See the <a class="reference internal" href="#cli-show"><span class="std std-ref">pydicom show command</span></a> section for more examples of the <cite>show</cite>
command, its options, and the ability to show only data elements or sequences
within the file.</p>
</section>
</section>
<section id="pydicom-show-command">
<span id="cli-show"></span><h2><a class="toc-backref" href="#contents" role="doc-backlink"><code class="docutils literal notranslate"><span class="pre">pydicom</span> <span class="pre">show</span></code> command</a><a class="headerlink" href="#pydicom-show-command" title="Link to this heading">#</a></h2>
<p>The <cite>pydicom show</cite> command displays representation of DICOM files or parts of them
from a command-line terminal.</p>
<p>Some examples were already given in the <a class="reference internal" href="#cli-intro"><span class="std std-ref">Introduction</span></a>, but here we will
show some additional options.</p>
<p>To see the available options, in a command-line terminal, type <code class="docutils literal notranslate"><span class="pre">pydicom</span> <span class="pre">help</span> <span class="pre">show</span></code>
or <code class="docutils literal notranslate"><span class="pre">pydicom</span> <span class="pre">show</span> <span class="pre">-h</span></code>.</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>pydicom<span class="w"> </span><span class="nb">help</span><span class="w"> </span>show
<span class="go">usage: pydicom show [-h] [-x] [-t] [-q] filespec</span>

<span class="go">Display all or part of a DICOM file</span>

<span class="go">positional arguments:</span>
<span class="go">filespec           File specification, in format [pydicom::]filename[::element]. If `pydicom::` prefix is present,</span>
<span class="go">                    then use the pydicom test file with that name. If `element` is given, use only that data element</span>
<span class="go">                    within the file. Examples: path/to/your_file.dcm, your_file.dcm::StudyDate,</span>
<span class="go">                    your_file.dcm::(0001,0001), pydicom::rtplan.dcm::BeamSequence[0],</span>
<span class="go">                    yourplan.dcm::BeamSequence[0].BeamNumber, pydicom::rtplan.dcm::(300A,00B0)[0].(300A,00B6)</span>

<span class="go">optional arguments:</span>
<span class="go">-h, --help            show this help message and exit</span>
<span class="go">-x, --exclude-private</span>
<span class="go">                        Don&#39;t show private data elements</span>
<span class="go">-t, --top             Only show top level</span>
<span class="go">-q, --quiet           Only show basic information</span>
</pre></div>
</div>
<p>The basic command with no options shows all data elements and nested sequences:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>pydicom<span class="w"> </span>show<span class="w"> </span>pydicom::CT_small.dcm
<span class="go">Dataset.file_meta -------------------------------</span>
<span class="gp gp-VirtualEnv">(0002, 0000)</span> <span class="go">File Meta Information Group Length  UL: 192</span>
<span class="gp gp-VirtualEnv">(0002, 0001)</span> <span class="go">File Meta Information Version       OB: b&#39;\x00\x01&#39;</span>
<span class="gp gp-VirtualEnv">(0002, 0002)</span> <span class="go">Media Storage SOP Class UID         UI: CT Image Storage</span>
<span class="gp gp-VirtualEnv">(0002, 0003)</span> <span class="go">Media Storage SOP Instance UID      UI: 1.3.6.1.4.1.5962.1.1.1.1.1.20040119072730.12322</span>
<span class="gp gp-VirtualEnv">(0002, 0010)</span> <span class="go">Transfer Syntax UID                 UI: Explicit VR Little Endian</span>
<span class="gp gp-VirtualEnv">(0002, 0012)</span> <span class="go">Implementation Class UID            UI: 1.3.6.1.4.1.5962.2</span>
<span class="gp gp-VirtualEnv">(0002, 0013)</span> <span class="go">Implementation Version Name         SH: &#39;DCTOOL100&#39;</span>
<span class="gp gp-VirtualEnv">(0002, 0016)</span> <span class="go">Source Application Entity Title     AE: &#39;CLUNIE1&#39;</span>
<span class="go">-------------------------------------------------</span>
<span class="gp gp-VirtualEnv">(0008, 0005)</span> <span class="go">Specific Character Set              CS: &#39;ISO_IR 100&#39;</span>
<span class="gp gp-VirtualEnv">(0008, 0008)</span> <span class="go">Image Type                          CS: [&#39;ORIGINAL&#39;, &#39;PRIMARY&#39;, &#39;AXIAL&#39;]</span>
<span class="gp gp-VirtualEnv">(0008, 0012)</span> <span class="go">Instance Creation Date              DA: &#39;20040119&#39;</span>
<span class="gp gp-VirtualEnv">(0008, 0013)</span> <span class="go">Instance Creation Time              TM: &#39;072731&#39;</span>
<span class="gp gp-VirtualEnv">(0008, 0014)</span> <span class="go">Instance Creator UID                UI: 1.3.6.1.4.1.5962.3</span>
<span class="gp gp-VirtualEnv">(0008, 0016)</span> <span class="go">SOP Class UID                       UI: CT Image Storage</span>
<span class="gp gp-VirtualEnv">(0008, 0018)</span> <span class="go">SOP Instance UID                    UI: 1.3.6.1.4.1.5962.1.1.1.1.1.20040119072730.12322</span>
<span class="gp gp-VirtualEnv">(0008, 0020)</span> <span class="go">Study Date                          DA: &#39;20040119&#39;</span>
<span class="go">.</span>
<span class="go">.</span>
<span class="go">.</span>
<span class="gp gp-VirtualEnv">(0043, 104b)</span> <span class="go">[DAS xm pattern]                    SL: 0</span>
<span class="gp gp-VirtualEnv">(0043, 104c)</span> <span class="go">[TGGC trigger mode]                 SS: 0</span>
<span class="gp gp-VirtualEnv">(0043, 104d)</span> <span class="go">[Start scan to X-ray on delay]      FL: 0.0</span>
<span class="gp gp-VirtualEnv">(0043, 104e)</span> <span class="go">[Duration of X-ray on]              FL: 10.60060977935791</span>
<span class="gp gp-VirtualEnv">(7fe0, 0010)</span> <span class="go">Pixel Data                          OW: Array of 32768 elements</span>
<span class="gp gp-VirtualEnv">(fffc, fffc)</span> <span class="go">Data Set Trailing Padding           OB: Array of 126 elements</span>
</pre></div>
</div>
<p>Note that prefixing the file specification with <code class="docutils literal notranslate"><span class="pre">pydicom::</span></code> will read the file
from the <em>pydicom</em> test data files rather than from the file system.</p>
<p>You can also show just parts of the DICOM file by specifying a data element
using the usual pydicom keyword notation:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>pydicom<span class="w"> </span>show<span class="w"> </span>pydicom::CT_small.dcm::PatientName
<span class="go">CompressedSamples^CT1</span>

<span class="gp">$ </span>pydicom<span class="w"> </span>show<span class="w"> </span>pydicom::rtplan.dcm::FractionGroupSequence
<span class="go">[(300a, 0071) Fraction Group Number               IS: &quot;1&quot;</span>
<span class="gp gp-VirtualEnv">(300a, 0078)</span> <span class="go">Number of Fractions Planned         IS: &quot;30&quot;</span>
<span class="gp gp-VirtualEnv">(300a, 0080)</span> <span class="go">Number of Beams                     IS: &quot;1&quot;</span>
<span class="gp gp-VirtualEnv">(300a, 00a0)</span> <span class="go">Number of Brachy Application Setups IS: &quot;0&quot;</span>
<span class="gp gp-VirtualEnv">(300c, 0004)</span>  <span class="go">Referenced Beam Sequence  1 item(s) ----</span>
<span class="gp gp-VirtualEnv">(300a, 0082)</span> <span class="go">Beam Dose Specification Point       DS: [239.531250000000, 239.531250000000, -751.87000000000]</span>
<span class="gp gp-VirtualEnv">(300a, 0084)</span> <span class="go">Beam Dose                           DS: &quot;1.0275401&quot;</span>
<span class="gp gp-VirtualEnv">(300a, 0086)</span> <span class="go">Beam Meterset                       DS: &quot;116.0036697&quot;</span>
<span class="gp gp-VirtualEnv">(300c, 0006)</span> <span class="go">Referenced Beam Number              IS: &quot;1&quot;</span>
<span class="go">---------]</span>
</pre></div>
</div>
<p>You can also use a tag number in format (group,elem) anywhere a DICOM keyword can be used:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>pydicom<span class="w"> </span>show<span class="w"> </span>pydicom::ct_small.dcm::<span class="o">(</span><span class="m">0043</span>,1013<span class="o">)</span>
<span class="go">[107, 21, 4, 2, 20]</span>

<span class="gp">$ </span>pydicom<span class="w"> </span>show<span class="w"> </span>pydicom::rtplan.dcm::<span class="o">(</span>300A,00B0<span class="o">)[</span><span class="m">0</span><span class="o">]</span>.<span class="o">(</span>300a,0111<span class="o">)</span>
<span class="go">[(300A,0112) Control Point Index                 IS: &#39;0&#39;</span>
<span class="gp gp-VirtualEnv">(300A,0114)</span> <span class="go">Nominal Beam Energy                 DS: &#39;6.00000000000000&#39;</span>
<span class="go">...</span>
</pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">-q</span></code> quiet argument shows a minimal version of some of the information in the
file, using just the DICOM keyword and value (not showing the tag numbers
and VR). The example below shows the quiet mode with an image slice:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>pydicom<span class="w"> </span>show<span class="w"> </span>-q<span class="w"> </span>pydicom::ct_small.dcm

<span class="go">SOPClassUID: CT Image Storage</span>
<span class="go">PatientName: CompressedSamples^CT1</span>
<span class="go">PatientID: 1CT1</span>
<span class="go">StudyID: 1CT1</span>
<span class="go">StudyDate: 20040119</span>
<span class="go">StudyTime: 072730</span>
<span class="go">StudyDescription: e+1</span>
<span class="go">BitsStored: 16</span>
<span class="go">Modality: CT</span>
<span class="go">Rows: 128</span>
<span class="go">Columns: 128</span>
<span class="go">SliceLocation: -77.2040634155</span>
</pre></div>
</div>
<p>And the following example shows an RT Plan in quiet mode:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>pydicom<span class="w"> </span>show<span class="w"> </span>-q<span class="w"> </span>pydicom::rtplan.dcm

<span class="go">SOPClassUID: RT Plan Storage</span>
<span class="go">PatientName: Last^First^mid^pre</span>
<span class="go">PatientID: id00001</span>
<span class="go">StudyID: study1</span>
<span class="go">StudyDate: 20030716</span>
<span class="go">StudyTime: 153557</span>
<span class="go">StudyDescription: N/A</span>
<span class="go">Plan Label: Plan1  Plan Name: Plan1</span>
<span class="go">Fraction Group 1  30 fraction(s) planned</span>
<span class="go">Brachy Application Setups: 0</span>
<span class="go">Beam 1 Dose 1.02754010000000 Meterset 116.003669700000</span>
<span class="go">Beam 1 &#39;Field 1&#39; TREATMENT STATIC PHOTON energy 6.00000000000000 gantry 0.0, coll 0.0, couch 0.0 (0 wedges, 0 comps, 0 boli, 0 blocks)</span>
</pre></div>
</div>
<p>Quiet modes always show the SOP Class UID, patient and study information as
shown in the above two examples. After those elements, custom values for
different SOP classes are shown. Currently “Image Storage” and “RT Plan Storage”
classes have custom extra information.  Please submit an issue on the <em>pydicom</em>
issues list or a pull request to help us expand the list of custom
‘quiet’ mode SOP Classes.</p>
</section>
<section id="pydicom-codify-command">
<span id="cli-codify"></span><h2><a class="toc-backref" href="#contents" role="doc-backlink"><code class="docutils literal notranslate"><span class="pre">pydicom</span> <span class="pre">codify</span></code> command</a><a class="headerlink" href="#pydicom-codify-command" title="Link to this heading">#</a></h2>
<p>The <code class="docutils literal notranslate"><span class="pre">pydicom</span> <span class="pre">codify</span></code> command takes a DICOM file and produces Python code to
recreate that file, or, optionally a subset within that file.</p>
<p>See <a class="reference internal" href="../user/writing_files.html#writing-files-using-codify"><span class="std std-ref">Using codify</span></a> for full details of writing a complete
file.  Here we will review the command-line options in more detail than
in that section, and show how to export a dataset within a DICOM file that has
sequences.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>The code produced by <code class="docutils literal notranslate"><span class="pre">codify</span></code> will contain all the information in the original
file, which may include private health information or other sensitive
information.</p>
</div>
<section id="a-simple-example">
<h3>A simple example<a class="headerlink" href="#a-simple-example" title="Link to this heading">#</a></h3>
<p>A simple example of using the <code class="docutils literal notranslate"><span class="pre">codify</span></code> command would be:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ pydicom codify pydicom::rtplan.dcm

# Coded version of DICOM file &#39;C:\git\pydicom\pydicom\data\test_files\rtplan.dcm&#39;
# Produced by pydicom codify utility script
import pydicom
from pydicom.dataset import Dataset, FileMetaDataset
from pydicom.sequence import Sequence

# Main data elements
ds = Dataset()
ds.InstanceCreationDate = &#39;20030903&#39;
ds.InstanceCreationTime = &#39;150031&#39;
ds.SOPClassUID = &#39;1.2.840.10008.5.1.4.1.1.481.5&#39;
ds.SOPInstanceUID = &#39;1.2.777.777.77.7.7777.7777.20030903150023&#39;
ds.StudyDate = &#39;20030716&#39;
ds.StudyTime = &#39;153557&#39;
.
.
.
</pre></div>
</div>
<p>Note that prefixing the file specification with <code class="docutils literal notranslate"><span class="pre">pydicom::</span></code> will read the file
from the <em>pydicom</em> test data files rather than from the file system.</p>
</section>
<section id="command-options">
<h3>Command options<a class="headerlink" href="#command-options" title="Link to this heading">#</a></h3>
<p>In the above example, the output was directed to screen, because no output file
was specified. To see the available command options, use the <code class="docutils literal notranslate"><span class="pre">help</span></code> command:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>pydicom help codify

usage: pydicom codify [-h] [-e EXCLUDE_SIZE] [-p] [-s SAVE_AS] filespec [outfile]

Read a DICOM file and produce the *pydicom* (Python) code which can create that file

positional arguments:
filespec           File specification, in format [pydicom::]filename[::element]. If `pydicom::` prefix is present,
                    then use the pydicom test file with that name. If `element` is given, use only that data element
                    within the file. Examples: path/to/your_file.dcm, your_file.dcm::StudyDate,
                    your_file.dcm::(0001,0001), pydicom::rtplan.dcm::BeamSequence[0],
                    yourplan.dcm::BeamSequence[0].BeamNumber, pydicom::rtplan.dcm::(300A,00B0)[0].(300A,00B6)
outfile               Filename to write python code to. If not specified, code is written to
                        stdout

optional arguments:
-h, --help            show this help message and exit
-e EXCLUDE_SIZE, --exclude-size EXCLUDE_SIZE
                        Exclude binary data larger than specified (bytes). Default is 100 bytes
-p, --include-private
                        Include private data elements (default is to exclude them)
-s SAVE_AS, --save-as SAVE_AS
                        Specify the filename for ds.save_as(save_filename); otherwise the input name
                        + &#39;_from_codify&#39; will be used

Binary data (e.g. pixels) larger than --exclude-size (default 100 bytes) is not included. A dummy
line with a syntax error is produced. Private data elements are not included by default.
</pre></div>
</div>
<p>For example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">pydicom</span> <span class="n">codify</span> <span class="o">-</span><span class="n">s</span> <span class="n">savename</span><span class="o">.</span><span class="n">dcm</span> <span class="n">dicomfile</span><span class="o">.</span><span class="n">dcm</span> <span class="n">pythoncode</span><span class="o">.</span><span class="n">py</span>
</pre></div>
</div>
<p>would read the DICOM file “dicomfile.dcm” and write the Python code
to file “pythoncode.py”.  In that code, near the end of the file
would be a <code class="docutils literal notranslate"><span class="pre">ds.save_as(&quot;savename.dcm&quot;,</span> <span class="pre">...)</span></code> line.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>By default, any private data elements within the file are not translated
to code.  If you want to include them, use the <code class="docutils literal notranslate"><span class="pre">-p</span></code> parameter.</p>
</div>
</section>
<section id="codifying-a-part-of-a-dicom-file">
<h3>Codifying a part of a DICOM file<a class="headerlink" href="#codifying-a-part-of-a-dicom-file" title="Link to this heading">#</a></h3>
<p>Note that the <code class="docutils literal notranslate"><span class="pre">filespec</span></code> argument to the <code class="docutils literal notranslate"><span class="pre">codify</span></code> command, as for
<a class="reference internal" href="#cli-show"><span class="std std-ref">the show command</span></a>, allows you to specify a data element within the file,
rather than the whole file:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">pydicom</span> <span class="n">codify</span> <span class="n">pydicom</span><span class="p">::</span><span class="n">rtplan</span><span class="o">.</span><span class="n">dcm</span><span class="p">::</span><span class="n">FractionGroupSequence</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>

<span class="c1"># Coded version of non-file dataset</span>
<span class="o">...</span>

<span class="c1"># Main data elements</span>
<span class="n">ds</span> <span class="o">=</span> <span class="n">Dataset</span><span class="p">()</span>
<span class="n">ds</span><span class="o">.</span><span class="n">FractionGroupNumber</span> <span class="o">=</span> <span class="s2">&quot;1&quot;</span>
<span class="n">ds</span><span class="o">.</span><span class="n">NumberOfFractionsPlanned</span> <span class="o">=</span> <span class="s2">&quot;30&quot;</span>
<span class="n">ds</span><span class="o">.</span><span class="n">NumberOfBeams</span> <span class="o">=</span> <span class="s2">&quot;1&quot;</span>
<span class="n">ds</span><span class="o">.</span><span class="n">NumberOfBrachyApplicationSetups</span> <span class="o">=</span> <span class="s2">&quot;0&quot;</span>

<span class="c1"># Referenced Beam Sequence</span>
<span class="n">refd_beam_sequence</span> <span class="o">=</span> <span class="n">Sequence</span><span class="p">()</span>
<span class="n">ds</span><span class="o">.</span><span class="n">ReferencedBeamSequence</span> <span class="o">=</span> <span class="n">refd_beam_sequence</span>

<span class="c1"># Referenced Beam Sequence: Referenced Beam 1</span>
<span class="n">refd_beam1</span> <span class="o">=</span> <span class="n">Dataset</span><span class="p">()</span>
<span class="n">refd_beam1</span><span class="o">.</span><span class="n">BeamDoseSpecificationPoint</span> <span class="o">=</span> <span class="p">[</span><span class="mf">239.531250000000</span><span class="p">,</span> <span class="mf">239.531250000000</span><span class="p">,</span> <span class="o">-</span><span class="mf">751.87000000000</span><span class="p">]</span>
<span class="o">...</span>
</pre></div>
</div>
<p>Currently, only a data element which is a <a class="reference internal" href="../../reference/generated/pydicom.dataset.Dataset.html#pydicom.dataset.Dataset" title="pydicom.dataset.Dataset"><code class="xref py py-class docutils literal notranslate"><span class="pre">Dataset</span></code></a>
(an item within a <a class="reference internal" href="../../reference/generated/pydicom.sequence.Sequence.html#pydicom.sequence.Sequence" title="pydicom.sequence.Sequence"><code class="xref py py-class docutils literal notranslate"><span class="pre">Sequence</span></code></a>) is accepted.
The resulting code would not on its own produce a correct DICOM file,
but could be useful as a model when creating
more complete code.  For example, issuing code for one item in a
<code class="docutils literal notranslate"><span class="pre">Sequence</span></code> could be the starting point towards a loop
producing a number of sequence items.</p>
</section>
</section>
<section id="extending-the-cli">
<span id="cli-dev"></span><h2><a class="toc-backref" href="#contents" role="doc-backlink">Extending the CLI</a><a class="headerlink" href="#extending-the-cli" title="Link to this heading">#</a></h2>
<p>Developers can create their own ‘subcommands’ for the <code class="docutils literal notranslate"><span class="pre">pydicom</span></code> command,
by adding entry points to their package’s setup.py file, specifying a callback
function to register the subcommand and its arguments.</p>
<p>If you wanted to create two subcommands, ‘command1’ and ‘command2’,
your setup.py file should include something like:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">setuptools</span><span class="w"> </span><span class="kn">import</span> <span class="n">setup</span>

<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s1">&#39;__main__&#39;</span><span class="p">:</span>
    <span class="n">setup</span><span class="p">(</span>
        <span class="n">name</span><span class="o">=</span><span class="s2">&quot;yourpackage&quot;</span><span class="p">,</span>
        <span class="c1"># various setup options...,</span>
        <span class="n">entry_points</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;pydicom_subcommands&quot;</span><span class="p">:</span> <span class="p">[</span>
                <span class="s2">&quot;command1 = yourpackage.command1module.add_subparser&quot;</span><span class="p">,</span>
                <span class="s2">&quot;command2 = yourpackage.command2module.add_subparser&quot;</span>
            <span class="p">]</span>
        <span class="p">}</span>
    <span class="p">)</span>
</pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">&quot;pydicom_subcommands&quot;</span></code> is a literal string; this must not be
changed or <em>pydicom</em> will not find your subcommand.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">add_subparser</span></code> function name could be changed if you wish, but usually
would be used by convention, and is assumed in the following examples.</p>
<p>In the module you have specified, create the <code class="docutils literal notranslate"><span class="pre">add_subparser</span></code> function,
which takes a single argument <code class="docutils literal notranslate"><span class="pre">subparsers</span></code>, and a <code class="docutils literal notranslate"><span class="pre">do_command</span></code> function,
which will take the call when you subcommand is actually used at the command
line:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">pydicom.cli.main</span><span class="w"> </span><span class="kn">import</span> <span class="n">filespec_help</span><span class="p">,</span> <span class="n">filespec_parser</span>

<span class="k">def</span><span class="w"> </span><span class="nf">add_subparser</span><span class="p">(</span><span class="n">subparsers</span><span class="p">):</span>
    <span class="c1"># Register the sub-parser</span>
    <span class="n">subparser</span> <span class="o">=</span> <span class="n">subparsers</span><span class="o">.</span><span class="n">add_parser</span><span class="p">(</span>
        <span class="s2">&quot;subcommandname&quot;</span><span class="p">,</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;Summary of your subcommand&quot;</span>
    <span class="p">)</span>

    <span class="n">subparser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span>
        <span class="s2">&quot;filespec&quot;</span><span class="p">,</span>
        <span class="n">help</span><span class="o">=</span><span class="n">filespec_help</span><span class="p">,</span>
        <span class="nb">type</span><span class="o">=</span><span class="n">filespec_parser</span>
    <span class="p">)</span>
    <span class="n">subparser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span>
    <span class="o">...</span>
    <span class="p">)</span>

    <span class="n">subparser</span><span class="o">.</span><span class="n">set_defaults</span><span class="p">(</span><span class="n">func</span><span class="o">=</span><span class="n">do_command</span><span class="p">)</span>
</pre></div>
</div>
<p>And define your command function:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">do_command</span><span class="p">(</span><span class="n">args</span><span class="p">):</span>
    <span class="k">for</span> <span class="n">ds</span><span class="p">,</span> <span class="n">element_val</span> <span class="ow">in</span> <span class="n">args</span><span class="o">.</span><span class="n">filespec</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">args</span><span class="o">.</span><span class="n">yourarg</span><span class="p">:</span>
            <span class="c1"># Do something...</span>

        <span class="c1"># work with the dataset ds or element as needed...</span>
</pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">pydicom</span></code> command uses Python’s
<a class="reference external" href="https://docs.python.org/3/library/argparse.html">argparse</a> library to
process commands.</p>
<p>The above code snippets show adding the <code class="docutils literal notranslate"><span class="pre">filespec</span></code> argument, and processing
the resulting dataset-element_value pairs in the <code class="docutils literal notranslate"><span class="pre">do_command()</span></code> function.  This is
recommended if you wish to use the filespec as was seen in the <a class="reference internal" href="#cli-show"><span class="std std-ref">pydicom show command</span></a>
and <a class="reference internal" href="#cli-codify"><span class="std std-ref">pydicom codify command</span></a> sections.  If not, you can just create a normal
arg with the type set to <code class="docutils literal notranslate"><span class="pre">argparse.FileType</span></code> to open files yourself.</p>
<p>The above has been shown in relation to a different package than <em>pydicom</em>;
however, if you think your command has general use, please consider contributing
it to <em>pydicom</em>: in that case, change the entry points in the <em>pydicom</em>
<code class="docutils literal notranslate"><span class="pre">setup.py</span></code> script, and add a module under <code class="docutils literal notranslate"><span class="pre">pydicom.cli</span></code> and create a
pull request.</p>
</section>
</section>


                </article>
              
              
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="../encoding/encoder_plugins.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">Pixel Data Encoder Plugins</p>
      </div>
    </a>
    <a class="right-next"
       href="../../auto_examples/index.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Examples</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <dialog id="pst-secondary-sidebar-modal"></dialog>
                <div id="pst-secondary-sidebar" class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
<div
    id="pst-page-navigation-heading-2"
    class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> On this page
  </div>
  <nav class="bd-toc-nav page-toc" aria-labelledby="pst-page-navigation-heading-2">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#introduction">Introduction</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#installing-the-pydicom-cli">Installing the pydicom CLI</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#combining-with-other-clis">Combining with other CLIs</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pydicom-show-command"><code class="docutils literal notranslate"><span class="pre">pydicom</span> <span class="pre">show</span></code> command</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pydicom-codify-command"><code class="docutils literal notranslate"><span class="pre">pydicom</span> <span class="pre">codify</span></code> command</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#a-simple-example">A simple example</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#command-options">Command options</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#codifying-a-part-of-a-dicom-file">Codifying a part of a DICOM file</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#extending-the-cli">Extending the CLI</a></li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
          </footer>
        
      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script defer src="../../_static/scripts/bootstrap.js?digest=8878045cc6db502f8baf"></script>
<script defer src="../../_static/scripts/pydata-sphinx-theme.js?digest=8878045cc6db502f8baf"></script>

  <footer class="bd-footer">
<div class="bd-footer__inner bd-page-width">
  
    <div class="footer-items__start">
      
        <div class="footer-item">

  <p class="copyright">
    
      © Copyright 2008-2026, Darcy Mason and pydicom contributors.
      <br/>
    
  </p>
</div>
      
        <div class="footer-item">

  <p class="sphinx-version">
    Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 9.0.4.
    <br/>
  </p>
</div>
      
    </div>
  
  
  
    <div class="footer-items__end">
      
        <div class="footer-item">
<p class="theme-version">
  <!-- # L10n: Setting the PST URL as an argument as this does not need to be localized -->
  Built with the <a href="https://pydata-sphinx-theme.readthedocs.io/en/stable/index.html">PyData Sphinx Theme</a> 0.16.1.
</p></div>
      
    </div>
  
</div>

  </footer>
  </body>
</html>